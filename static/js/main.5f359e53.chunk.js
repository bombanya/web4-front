(this["webpackJsonpweb4-front1"]=this["webpackJsonpweb4-front1"]||[]).push([[0],{187:function(e,t){},189:function(e,t){},199:function(e,t){},201:function(e,t){},226:function(e,t){},227:function(e,t){},232:function(e,t){},234:function(e,t){},241:function(e,t){},260:function(e,t){},280:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),i=n(15),a=n.n(i),o=n(42),c=n.n(o),l=n(76),d=n(16),u=n(17),h=n(41),p=n(19),g=n(18),m=n(133),x=n(134),b=n(135),j=n(25),f=n(34),v=n(1),y=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(m.a)({},e.target.name,e.target.value)),r.props.errorDropF()},r.state={username:"",password:""},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.loginError?"p-invalid":"";return Object(v.jsx)("div",{className:"card",children:Object(v.jsx)("div",{className:"p-grid p-justify-center",children:Object(v.jsx)(f.Card,{className:"p-xl-4 p-md-6 p-sm-8",title:"Login",children:Object(v.jsxs)("div",{className:"p-grid",children:[Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsxs)("div",{className:"p-inputgroup",children:[Object(v.jsx)("span",{className:"p-inputgroup-addon",children:Object(v.jsx)("i",{className:"pi pi-user"})}),Object(v.jsx)(x.InputText,{placeholder:"Username",name:"username",onChange:this.handleChange,value:this.state.username,className:t})]})}),Object(v.jsxs)("div",{className:"p-col-12",children:[Object(v.jsxs)("div",{className:"p-inputgroup",children:[Object(v.jsx)("span",{className:"p-inputgroup-addon",children:Object(v.jsx)("i",{className:"pi pi-key"})}),Object(v.jsx)(b.Password,{placeholder:"Password",name:"password",onChange:this.handleChange,value:this.state.password,feedback:!1,toggleMask:!0,className:t,"aria-describedby":"errorMessage"})]}),Object(v.jsx)("small",{id:"errorMessage",className:"p-error p-d-block",children:this.props.loginError&&this.props.errorMessage})]}),Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsx)(j.Button,{label:"Sign In",icon:"pi pi-user",loading:this.props.loading,onClick:function(t){return e.props.loginF(e.state.username,e.state.password,t)}})}),Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsx)(j.Button,{label:"Sign Up",icon:"pi pi-user-plus",loading:this.props.loading,onClick:function(t){return e.props.signupF(e.state.username,e.state.password,t)}})})]})})})})}}]),n}(r.Component),O=n(139);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var w=r.createElement("marker",{id:"arrow",refX:3,refY:3,markerWidth:6,markerHeight:6,orient:"auto"},r.createElement("path",{d:"M 0 0 L 6 3 0 6 z"})),S=r.createElement("circle",{id:"zoneCircle",r:112.5,cx:280,cy:280,fill:"#818AEC",strokeWidth:0}),L=r.createElement("rect",{id:"whiteRect",x:55,y:280,height:225,width:225,fill:"white"}),C=r.createElement("rect",{id:"whiteRect1",x:280,y:55,height:225,width:225,fill:"white"}),N=r.createElement("rect",{id:"zoneRect",x:280,y:280,width:225,height:225,fill:"#818AEC",strokeWidth:0}),M=r.createElement("path",{id:"zoneTriangle",d:"M 280 280 L 280 167.5 505 280 z",fill:"#818AEC",strokeWidth:0}),P=r.createElement("line",{id:"lineY",x1:280,y1:560,x2:280,y2:5,stroke:"black",strokeWidth:2,markerEnd:"url(#arrow)"}),B=r.createElement("line",{id:"lineX",x1:0,y1:280,x2:555,y2:280,stroke:"black",strokeWidth:2,markerEnd:"url(#arrow)"}),I=r.createElement("text",{x:270,y:300,fontSize:15},"0"),X=r.createElement("text",{x:545,y:270,fontSize:16},"X"),F=r.createElement("text",{id:"posX",x:505,y:270,fontSize:16},"1"),z=r.createElement("text",{id:"posX/2",x:392.5,y:270,fontSize:16},"0.5"),R=r.createElement("line",{id:"posXLine",x1:505,y1:272,x2:505,y2:288,stroke:"black",strokeWidth:2}),W=r.createElement("line",{id:"posX/2Line",x1:392.5,y1:272,x2:392.5,y2:288,stroke:"black",strokeWidth:2}),Y=r.createElement("text",{id:"negX",x:55,y:270,fontSize:16},"-1"),U=r.createElement("text",{id:"negX/2",x:167.5,y:270,fontSize:16},"-0.5"),T=r.createElement("line",{id:"negXLine",x1:55,y1:272,x2:55,y2:288,stroke:"black",strokeWidth:2}),D=r.createElement("line",{id:"negX/2Line",x1:167.5,y1:272,x2:167.5,y2:288,stroke:"black",strokeWidth:2}),A=r.createElement("text",{x:290,y:20,fontSize:16},"Y"),q=r.createElement("text",{id:"posY",x:290,y:55,fontSize:16},"1"),G=r.createElement("text",{id:"posY/2",x:290,y:167.5,fontSize:16},"0.5"),H=r.createElement("line",{id:"posYLine",x1:272,y1:55,x2:288,y2:55,stroke:"black",strokeWidth:2}),J=r.createElement("line",{id:"posY/2Line",x1:272,y1:167.5,x2:288,y2:167.5,stroke:"black",strokeWidth:2}),V=r.createElement("text",{id:"negY",x:290,y:505,fontSize:16},"-1"),K=r.createElement("text",{id:"negY/2",x:290,y:392.5,fontSize:16},"-0.5"),Q=r.createElement("line",{id:"negYLine",x1:272,y1:505,x2:288,y2:505,stroke:"black",strokeWidth:2}),Z=r.createElement("line",{id:"negY/2Line",x1:272,y1:392.5,x2:288,y2:392.5,stroke:"black",strokeWidth:2}),$=r.createElement("circle",{r:5,id:"newDot",fill:"none"});function _(e,t){var n=e.title,s=e.titleId,i=E(e,["title","titleId"]);return r.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",id:"svg",width:"100%",height:"100%",viewBox:"0 0 560 560",style:{border:"2px solid #000000"},ref:t,"aria-labelledby":s},i),n?r.createElement("title",{id:s},n):null,w,S,L,C,N,M,P,B,I,X,F,z,R,W,Y,U,T,D,A,q,G,H,J,V,K,Q,Z,$)}var ee=r.forwardRef(_),te=(n.p,n(136)),ne=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"p-grid",children:[Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsxs)("h5",{children:[this.props.title,": ",this.props.checkedLabel]})}),this.props.labels.map((function(t){return Object(v.jsxs)("div",{className:"p-col-4 p-field-checkbox",children:[Object(v.jsx)(te.Checkbox,{inputId:t.toString(),value:t,onChange:e.props.changer,checked:e.props.checkedLabel===t}),Object(v.jsx)("label",{htmlFor:t.toString(),children:t})]},e.props.title+t.toString())}))]})}}]),n}(r.Component),re=n(137),se=n(138),ie=n(26),ae=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).getAllUserPoints=function(){fetch(r.props.data.serverURL+"api/allpoints/"+r.props.data.username,{credentials:"include",method:"GET",headers:{authorization:"Basic "+btoa(r.props.data.username+":"+r.props.data.password),"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.json()})).then((function(e){return r.setState({userPoints:e})})).then((function(){return r.managePoints()}))},r.createNewPoint=function(e,t){var n={x:e.toFixed(2),y:t.toFixed(2),r:r.state.r};fetch(r.props.data.serverURL+"api/newpoint",{credentials:"include",method:"POST",body:JSON.stringify(n),headers:{authorization:"Basic "+btoa(r.props.data.username+":"+r.props.data.password),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r.setState({userPoints:[].concat(Object(O.a)(r.state.userPoints),[e])})})).then((function(){return r.managePoints()}))},r.svgMouseMoveHandler=function(e){var t=document.getElementById("svg").clientWidth,n=560*(e.pageX-document.getElementById("svgDiv").offsetLeft-document.getElementById("svg").clientLeft-t/2)/225/t*r.state.r,s=560*-(e.pageY-document.getElementById("svgDiv").offsetTop-document.getElementById("svg").clientTop-t/2)/225/t*r.state.r;r.setState({xFromMouse:n,yFromMouse:s})},r.managePoints=function(){var e=r.state.r;r.state.userPoints.forEach((function(t){var n;null==document.getElementById("point"+t.id)?(n=document.getElementById("newDot").cloneNode(!1),t.boolResult?n.setAttribute("fill","green"):n.setAttribute("fill","red"),n.setAttribute("id","point"+t.id),document.getElementById("svg").appendChild(n)):n=document.getElementById("point"+t.id),n.setAttribute("cx",(t.x/e*225+280).toString()),n.setAttribute("cy",(-t.y/e*225+280).toString())})),r.state.sendingLoading&&r.setState({sendingLoading:!1})},r.radiusChanger=function(e){e.checked&&r.setState({r:e.value},(function(){return r.managePoints()})),document.getElementById("negX").textContent=(-e.value).toString(),document.getElementById("negX/2").textContent=(-e.value/2).toString(),document.getElementById("posX").textContent=e.value,document.getElementById("posX/2").textContent=(e.value/2).toString(),document.getElementById("posY").textContent=e.value,document.getElementById("posY/2").textContent=(e.value/2).toString(),document.getElementById("negY").textContent=(-e.value).toString(),document.getElementById("negY/2").textContent=(-e.value/2).toString()},r.state={x:-3,xGroup:[-3,-2,-1,0,1,2,3,4,5],r:1,rGroup:[1,2,3,4,5],y:0,userPoints:[],xFromMouse:"",yFromMouse:"",sendingLoading:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getAllUserPoints(),window.addEventListener("resize",this.managePoints)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.managePoints)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"p-grid p-justify-around",children:[Object(v.jsx)("div",{className:"p-col-10 p-xl-4",children:Object(v.jsxs)(f.Card,{title:"Points form",children:[Object(v.jsx)(ne,{labels:this.state.xGroup,title:"Coordinate X",checkedLabel:this.state.x,changer:function(t){t.checked&&e.setState({x:t.value})}}),Object(v.jsxs)("div",{className:"p-grid",children:[Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsxs)("h5",{children:["Coordinate Y: ",this.state.y]})}),Object(v.jsx)("div",{className:"p-col-7",children:Object(v.jsx)(re.Slider,{value:this.state.y,onChange:function(t){return e.setState({y:Math.round(10*t.value)/10})},min:-3,max:5,step:.2})})]}),Object(v.jsx)(ne,{labels:this.state.rGroup,title:"Radius",checkedLabel:this.state.r,changer:this.radiusChanger}),Object(v.jsx)(j.Button,{label:"Submit",icon:"pi pi-send",loading:this.state.sendingLoading,onClick:function(){e.setState({sendingLoading:!0}),e.createNewPoint(e.state.x,e.state.y)}})]})}),Object(v.jsx)("div",{className:"p-col-10 p-xl-4",children:Object(v.jsxs)(f.Card,{title:"Graph",children:[Object(v.jsx)("div",{id:"svgDiv",children:Object(v.jsx)(ee,{onMouseMove:this.svgMouseMoveHandler,onClick:function(){return e.createNewPoint(e.state.xFromMouse,e.state.yFromMouse)}})}),Object(v.jsxs)("div",{children:[""===this.state.xFromMouse&&Object(v.jsx)("h6",{children:"You can select the coordinates of a point by clicking on the graph"}),""!==this.state.xFromMouse&&Object(v.jsxs)("h6",{children:["Point coords: x: ",this.state.xFromMouse.toFixed(2),"; y: ",this.state.yFromMouse.toFixed(2)]})]})]})}),Object(v.jsx)("div",{className:"p-col-8",children:Object(v.jsx)(f.Card,{title:"Points table",children:Object(v.jsxs)(se.DataTable,{value:this.state.userPoints,scrollable:!0,scrollHeight:"500px",children:[Object(v.jsx)(ie.Column,{field:"timeOfRequest",headerStyle:{width:"150px"},header:"Time of request"}),Object(v.jsx)(ie.Column,{field:"workTime",headerStyle:{width:"150px"},header:"Script work time"}),Object(v.jsx)(ie.Column,{field:"r",headerStyle:{width:"100px"},header:"R"}),Object(v.jsx)(ie.Column,{field:"x",headerStyle:{width:"100px"},header:"X"}),Object(v.jsx)(ie.Column,{field:"y",headerStyle:{width:"100px"},header:"Y"}),Object(v.jsx)(ie.Column,{field:"result",headerStyle:{width:"200px"},header:"Result"})]})})})]})}}]),n}(r.Component),oe=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"p-menubar p-grid p-justify-between",children:[Object(v.jsx)("div",{className:"p-col-6 p-text-bold",children:this.props.text}),this.props.isLogged&&Object(v.jsx)("div",{className:"p-col-4 p-justify-end p-grid",children:Object(v.jsx)(j.Button,{className:"p-button-text p-button-secondary",label:"Logout",icon:"pi pi-power-off",onClick:this.props.logoutF})})]})}}]),n}(r.Component),ce=function(e){Object(p.a)(r,e);var t=Object(g.a)(r);function r(e){var n;return Object(d.a)(this,r),(n=t.call(this,e)).state={username:"",password:"",isLogged:!1,serverURL:"https://bombanya-weblab4.herokuapp.com/",loginLoading:!1,loginError:!1,errorMessage:""},n.login=n.login.bind(Object(h.a)(n)),n.createNewUser=n.createNewUser.bind(Object(h.a)(n)),n}return Object(u.a)(r,[{key:"login",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),this.setState({loginLoading:!0}),e.prev=2,e.next=5,fetch(this.state.serverURL+"auth",{credentials:"include",method:"GET",headers:{authorization:"Basic "+btoa(t+":"+n),"X-Requested-With":"XMLHttpRequest"}});case 5:e.sent.ok?this.setState({username:t,password:n,isLogged:!0,loginError:!1,errorMessage:""}):this.setState({loginError:!0,errorMessage:"Login or password is not suitable"});case 7:return e.prev=7,this.setState({loginLoading:!1}),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[2,,7,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"createNewUser",value:function(){var e=Object(l.a)(c.a.mark((function e(t,r,s){var i,a,o,l,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!(0===t.length||t.length>50)){e.next=4;break}return this.setState({loginError:!0,errorMessage:"Login cannot be an empty string or longer than 50 chars"}),e.abrupt("return");case 4:if(!(0===r.length||r.length>100)){e.next=7;break}return this.setState({loginError:!0,errorMessage:"Password cannot be an empty string or longer than 100 chars"}),e.abrupt("return");case 7:return i=n(181),e.next=10,i.hash(r,12);case 10:return a=e.sent,o={username:t,password:a},e.prev=12,e.next=15,fetch(this.state.serverURL+"auth/signUp",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});case 15:(l=e.sent).ok?this.setState({username:t,password:r,isLogged:!0,loginError:!1,errorMessage:""}):l.text().then((function(e){d.setState({loginError:!0,errorMessage:e})}));case 17:return e.prev=17,this.setState({loginLoading:!1}),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[12,,17,20]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"p-grid",children:[Object(v.jsx)("div",{className:"p-col-12",children:Object(v.jsx)(oe,{text:this.state.isLogged?this.state.username:"Proshkin Nikita P3231 Var 9144",logoutF:function(){return e.setState({username:"",password:"",isLogged:!1})},isLogged:this.state.isLogged})}),Object(v.jsxs)("div",{className:"p-col-12",children:[!this.state.isLogged&&Object(v.jsx)(y,{loginF:this.login,signupF:this.createNewUser,loading:this.state.loginLoading,loginError:this.state.loginError,errorMessage:this.state.errorMessage,errorDropF:function(){return e.setState({loginError:!1})}}),this.state.isLogged&&Object(v.jsx)(ae,{data:this.state})]})]})}}]),r}(r.Component);n(276),n(277),n(278),n(279),n(280);a.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(ce,{})}),document.getElementById("root"))}},[[282,1,2]]]);
//# sourceMappingURL=main.5f359e53.chunk.js.map